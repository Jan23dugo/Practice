[2025-06-22 01:36:43] === EXAM SAVE PROCESS STARTED ===
[2025-06-22 01:36:43] REQUEST_METHOD: POST
[2025-06-22 01:36:43] Raw POST data: Array
(
    [exam_id] => 24
    [quiz-name] => Tech Exam 2
    [quiz-description] => Carefully answer the questions
    [exam-instructions] => 
    [exam-type] => tech
    [duration] => 60
    [is_scheduled] => 1
    [window_start] => 2025-06-22T09:36
    [window_end] => 2025-06-22T23:00
    [randomize-questions] => on
    [randomize-choices] => on
    [passing_score_type] => percentage
    [passing_score] => 70
    [remove-cover-image] => 0
)

[2025-06-22 01:36:43] Raw FILES data: Array
(
    [cover-image] => Array
        (
            [name] => 
            [full_path] => 
            [type] => 
            [tmp_name] => 
            [error] => 4
            [size] => 0
        )

)

[2025-06-22 01:36:43] Parsed basic fields:
[2025-06-22 01:36:43]   exam_id: 24
[2025-06-22 01:36:43]   quiz_name: Tech Exam 2
[2025-06-22 01:36:43]   exam_type: tech
[2025-06-22 01:36:43]   duration: 60
[2025-06-22 01:36:43] === SCHEDULING DATA PROCESSING ===
[2025-06-22 01:36:43] is_scheduled checkbox: CHECKED
[2025-06-22 01:36:43] is_scheduled value: 1
[2025-06-22 01:36:43] POST window_start: '2025-06-22T09:36'
[2025-06-22 01:36:43] POST window_end: '2025-06-22T23:00'
[2025-06-22 01:36:43] window_start empty?: NO
[2025-06-22 01:36:43] window_end empty?: NO
[2025-06-22 01:36:43] Processing scheduled exam...
[2025-06-22 01:36:43] ✓ window_start raw: '2025-06-22T09:36' -> converted: '2025-06-22 09:36:00'
[2025-06-22 01:36:43] ✓ window_end raw: '2025-06-22T23:00' -> converted: '2025-06-22 23:00:00'
[2025-06-22 01:36:43] ✅ Both datetime fields have values, scheduling enabled
[2025-06-22 01:36:43] === DATABASE UPDATE PREPARATION ===
[2025-06-22 01:36:43] SQL Query: UPDATE exams SET 
                          title = ?, 
                          description = ?, 
                          instructions = ?,
                          exam_type = ?,
                          duration = ?,
                          is_scheduled = ?,
                          window_start = ?,
                          window_end = ?,
                          randomize_questions = ?,
                          randomize_choices = ?,
                          updated_at = NOW(), passing_score_type = ?, passing_score = ?, cover_image = ? WHERE exam_id = ?
[2025-06-22 01:36:43] Parameter types: ssssiissii
[2025-06-22 01:36:43] Parameters being saved:
[2025-06-22 01:36:43]   quiz_name: 'Tech Exam 2'
[2025-06-22 01:36:43]   quiz_description: 'Carefully answer the questions'
[2025-06-22 01:36:43]   exam_instructions: ''
[2025-06-22 01:36:43]   exam_type: 'tech'
[2025-06-22 01:36:43]   duration: 60
[2025-06-22 01:36:43]   is_scheduled: 1
[2025-06-22 01:36:43]   window_start: '2025-06-22 09:36:00'
[2025-06-22 01:36:43]   window_end: '2025-06-22 23:00:00'
[2025-06-22 01:36:43]   randomize_questions: 1
[2025-06-22 01:36:43]   randomize_choices: 1
[2025-06-22 01:36:43] === EXECUTING DATABASE UPDATE ===
[2025-06-22 01:36:43] ✅ Database update successful
[2025-06-22 01:36:43] === VERIFICATION - WHAT WAS ACTUALLY SAVED ===
[2025-06-22 01:36:43]   exam_id: 24
[2025-06-22 01:36:43]   title: Tech Exam 2
[2025-06-22 01:36:43]   is_scheduled: 1
[2025-06-22 01:36:43]   window_start: 2025-06-22 09:36:00
[2025-06-22 01:36:43]   window_end: 2025-06-22 23:00:00
[2025-06-22 01:36:43] === EXAM SAVE PROCESS COMPLETED ===
[2025-06-22 01:36:43] Final response: {"success":true,"message":"Exam updated and assigned successfully!","exam_id":24,"assignment_stats":{"total_assigned":2,"completed":"0","pending":"2"}}
[2025-06-22 01:36:43] ========================================================================================
